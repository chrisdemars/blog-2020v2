{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/focusing-on-focus","result":{"data":{"markdownRemark":{"html":"<p>What’s up my a11y allies? Were you aware that the mouse and keyword handle focus differently? Well it’s true. Both handle them differently, and depending on what browser you are in also matters…a lot actually.</p>\n<p>Focus is a crucial element to the usage and experience of the application we are interacting with. It is also the visual indicator of the element of an application we are focused on. There is a caveat to our focus psuedo class however, and that is our friend <code class=\"language-text\">outline</code>.</p>\n<p>Before we get started, read this over and over until it is engrained in your mental space.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">:focus</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This leads us in to our problem.</p>\n<h2>The Problem</h2>\n<p>There are times when a designer or art director could approach you and say that the outline that renders around certain elements of the page like links, or buttons, doesn’t look…good. It doesn’t match our branding and, well, can you please just remove it.</p>\n<p><img src=\"https://miro.medium.com/max/3840/1*v7vKzh1oLQYf-_Q0ddH5kQ.jpeg\"></p>\n<p>And then being a developer, you follow up with, “sure I can remove it, but what alternative do you have to replace the outline?” If they look at you confused, then this is a great time to open up the communication of the importance of focus and what you can do collaboratively to make the experience accessible.</p>\n<h2>Reset &#x26; Normalize</h2>\n<p>If you have used <a href=\"http://cssreset.com/scripts/eric-meyer-reset-css/\">Eric Meyer’s reset</a>, he removes the focus outline, but he explicitly says to define focus styles after the reset. What about normalize? If you go through the <a href=\"https://github.com/necolas/normalize.css/blob/master/normalize.css\">normalize css file</a> and do a search for focus, you won’t find it. You will however find styles for <code class=\"language-text\">:-moz-focusring</code>. Currently, <code class=\"language-text\">:-moz-focusring</code> is not a thing so those styles that are being applied using the <code class=\"language-text\">-moz</code>prefix might not work. If you go to the <a href=\"https://developer.mozilla.org/en-US/\">Mozilla Web Docs</a> and search for <code class=\"language-text\">:-moz-focusring</code> there is a warning at the top that states this such thing.</p>\n<p><img src=\"https://miro.medium.com/max/3840/1*L3jU8qJ2eS5t6-KepUAzmQ.jpeg\"></p>\n<p><code class=\"language-text\">:focus-ring</code> and <code class=\"language-text\">:-moz-focusring</code> seem to both be the same, neither are standards…yet. <code class=\"language-text\">:focus-ring</code>which has been renamed to <code class=\"language-text\">:focus-visible</code>is currently in the <a href=\"https://drafts.csswg.org/selectors-4/#the-focus-pseudo\">CSS 4 spec</a> and there is a polyfill which is the focus, no pun intended, of this post.</p>\n<h2>Importance of Focus</h2>\n<p>There needs to be a way for accessible and non-accessible users to be able to see where they are during interactions. A great example that I read about are login and password inputs. Focus indicates that you are on a password field after you input your login. It would suck if you went to start typing your password but had no visual indication of where you were actually typing your password.</p>\n<h2>What is Focus?</h2>\n<blockquote>\n<p>Any keyboard operable user interface has a mode of operation where the keyboard focus indicator is visible.Web Content Accessibility Guidelines</p>\n</blockquote>\n<p>Any keyboard operable user interface has a mode of operation where the keyboard focus indicator is visible.</p>\n<p><a href=\"https://https://www.w3.org/TR/WCAG21/#focus-visible\">Web Content Accessibility Guidelines</a></p>\n<p>According to the Web Content Accessibility Guidelines 2.0, it states that any keyboard operable user interface has a mode of operation where the keyboard focus indicator is visible. Now that being said, it doesn’t say a blue ring, this is afforded by the browser, but is has to have some type of visual distinction.</p>\n<h2>Browsers &#x26; Focus</h2>\n<p><img src=\"https://miro.medium.com/max/3840/1*5vMad6NVh7jf3JofvvpvVQ.jpeg\"></p>\n<p>Browsers handle focus differently as far as visual presentation goes, as well as functionality. They also focus differently from mouse to keyboard. I gave a talk illustrating these differences that you can find here ==> <a href=\"https://speakerdeck.com/chrisdemars/focusing-on-focus?slide=23\">Focusing on Focus</a>.</p>\n<h2>The Problem Continued</h2>\n<p>I touched briefly on <code class=\"language-text\">:focus-visible</code> earlier, it is currently in the <a href=\"https://drafts.csswg.org/selectors-4/#the-focus-pseudo\">CSS 4 spec,</a> it originally landed on the 18th of May as <code class=\"language-text\">:focus-ring</code>. It’s not in any browsers yet, but there is a polyfill out there, one of which I am going to show you.</p>\n<p><img src=\"https://miro.medium.com/max/5760/1*Ifo_3LdDQrtq31yZvCNtiA.png\"></p>\n<p>When you remove the default focus by assigning it a value of zero or none, you remove that for everyone, both keyboard and mouse users. Even others who use some type of assistive technology if I had to bet on it.</p>\n<p>Some mouse users, on the other hand, don’t like having a focus-ring around custom elements, like custom buttons. This polyfill removes the focus ring from these elements for mouse users, but adds it back in for keyboard users.</p>\n<h2>The Resolution</h2>\n<p>Focus-ring polyfill to the rescue! Essentially it is only these three lines of CSS, and using an already complete JS file. Pretty cool huh?</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">.</span>js<span class=\"token operator\">-</span>focus<span class=\"token operator\">-</span>visible <span class=\"token operator\">:</span>focus<span class=\"token operator\">:</span><span class=\"token function\">not</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">.</span>focus<span class=\"token operator\">-</span>visible</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>    outline<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>Below is a snippet from the JS file. What it means is anything that is focused, that does not have a focus ring, set the outline to none. This caters to the mouse users. It sets a focus ring to all the things in the whitelist in the JS file for both mouse and keyboards, except buttons. It turns off the focus ring for buttons for mouse clicks, but still allows the focus ring for keyboard users.</p>\n<p><img src=\"https://miro.medium.com/max/1692/1*YaYqRxxIQDmfDWZG-r8wOA.png\"></p>\n<h2>The Support</h2>\n<p>Currently there is no support for <code class=\"language-text\">:focus-visible</code> at the moment, but I am pushing to get it implemented in all major browsers.</p>\n<p>If you would also like to get it implemented, reach out to your favorite browser vendors and see what they say.</p>\n<h2>Awesome People!</h2>\n<p>A huge shoutout to <a href=\"https://twitter.com/sundress\">Alice Boxhall</a> (<a href=\"https://medium.com/u/d9ebbd42f5b9?source=post_page-----4e3766474d72----------------------\">Alice Boxhall</a>), <a href=\"https://twitter.com/rob_dodson\">Rob Dodson</a> (<a href=\"https://medium.com/u/d712d6fb229b?source=post_page-----4e3766474d72----------------------\">Rob Dodson</a>), and all the fine people who have <a href=\"https://github.com/WICG/focus-ring/graphs/contributors\">contributed</a> to the focus-visible polyfill and continue to make it great!</p>\n<h2>More Info!</h2>\n<p>If you would like more info on this sweet polyfill, check out the GitHub ==> <a href=\"https://github.com/WICG/focus-visible\">https://github.com/WICG/focus-visible</a> , and Rob Dodson’s Ally Casts video here where he talks about it, <a href=\"https://youtu.be/ilj2P5-5CjI\">Ally Casts</a>.</p>","frontmatter":{"date":"August 08, 2017","path":"/blog/focusing-on-focus","title":"Focusing on Focus"}}},"pageContext":{}}}